options "-symbexec-v2"

struct Counter {
  var count: Int;
}

predicate counter(c: Counter) {
  acc(c) 
}

procedure incr(c: Counter) 
  requires counter(c)
  ensures counter(c)
{
  unfold counter(c);
  c.count := c.count + 1;
  fold counter(c);
}

procedure decr(c: Counter)
  requires counter(c)
  ensures counter(c)
{
  c.count := c.count - 1;
}
